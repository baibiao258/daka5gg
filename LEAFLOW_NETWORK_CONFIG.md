# 🌐 Leaflow网络配置说明

## ❓ 网络配置需要设置吗？

**答案：通常不需要！**

### ✅ 默认网络配置

对于自动打卡与日报系统，**不需要特殊的网络配置**：

- **端口暴露**: ❌ 不需要 - 容器内部运行，无需外部访问
- **网络策略**: ❌ 不需要 - 使用默认网络配置
- **防火墙规则**: ❌ 不需要 - 容器可以正常访问互联网
- **代理设置**: ❌ 不需要 - 默认支持外网访问

### 🔗 网络访问需求

容器需要访问的目标网站：
- **目标域名**: `https://qd.dxssxdk.com`
- **GitHub Container Registry**: `https://ghcr.io`
- **网络类型**: 仅需要**出站访问**，不需要入站连接

---

## 📋 配置检查清单

### ✅ 默认配置即可满足
- [ ] 使用Leaflow默认网络配置
- [ ] 无需手动配置端口映射
- [ ] 无需配置网络安全组
- [ ] 无需配置代理或VPN

### ⚠️ 如遇到网络问题才需要检查
1. **镜像拉取失败**: 检查是否能访问GitHub
2. **任务执行失败**: 检查是否能访问目标网站
3. **DNS解析问题**: 确认网络DNS配置正确

---

## 🔧 高级网络配置（如需要）

### 代理设置
如果需要通过代理访问外网：

**环境变量设置**:
```
HTTP_PROXY=http://proxy.company.com:8080
HTTPS_PROXY=http://proxy.company.com:8080
NO_PROXY=localhost,127.0.0.1
```

### 自定义DNS
如果遇到DNS解析问题：

**环境变量设置**:
```
DNS_SERVER=8.8.8.8
```

---

## 🚫 不需要的配置

以下配置**无需设置**：

- **端口映射**: 容器不需要对外暴露端口
- **Load Balancer**: 不需要负载均衡
- **Ingress**: 不需要入口配置  
- **Service Mesh**: 不需要服务网格
- **网络插件**: 使用默认网络插件即可

---

## 🛠️ 网络故障排查

### 1. 镜像拉取失败
**症状**: 容器启动时提示"无法拉取镜像"

**解决方案**:
- 检查GitHub访问是否正常
- 确认镜像地址拼写正确
- 尝试使用版本标签而非latest

### 2. 任务执行失败
**症状**: 容器启动正常但打卡任务失败

**解决方案**:
- 检查目标网站 `qd.dxssxdk.com` 是否可访问
- 确认网络连接稳定
- 查看详细错误日志

### 3. DNS解析问题
**症状**: 无法解析域名

**解决方案**:
- 检查网络DNS配置
- 尝试手动设置DNS服务器
- 联系网络管理员确认网络策略

---

## 💡 最佳实践

### ✅ 推荐做法
- **使用默认网络配置**: 90%的情况下都足够
- **定期检查网络连通性**: 确保外网访问正常
- **监控网络状态**: 在日志中关注网络相关错误

### ❌ 避免过度配置
- **不要随意修改网络策略**
- **不要设置不必要的端口暴露**
- **不要配置复杂的代理规则**

---

## 📞 网络问题支持

### 自查步骤
1. **测试基础连通性**: 在本地访问目标网站
2. **查看容器日志**: 寻找网络相关错误信息
3. **检查Leaflow网络状态**: 确认平台网络服务正常

### 获取帮助
- **Leaflow官方支持**: 联系平台技术支持
- **网络管理员**: 如果是企业环境
- **GitHub状态**: 检查服务状态页面

---

## ✅ 结论

**对于这个自动打卡系统，Leaflow的默认网络配置完全够用！**

**无需任何网络配置**，容器就能：
- ✅ 正常拉取Docker镜像
- ✅ 访问目标打卡网站
- ✅ 执行自动化任务
- ✅ 上报执行结果

**开始部署吧，网络配置不是问题！** 🎉